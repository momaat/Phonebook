{"version":3,"sources":["App.js","index.js"],"names":["App","addName","event","preventDefault","nameObject","name","state","newName","number","newNumber","alert","persons","some","n","Axios","post","then","response","setState","concat","data","handleNameChange","target","value","handleNumberChange","popWindow","id","console","log","person","find","window","confirm","delete","filter","get","this","React","Component","Table","props","map","key","onClick","Form","onSubmit","onChange","type","ReactDOM","render","document","getElementById"],"mappings":"oPAcMA,G,wDACJ,aAAe,IAAD,8BACZ,gBASFC,QAAU,SAACC,GACTA,EAAMC,iBAEN,IAAMC,EAAa,CACjBC,KAAM,EAAKC,MAAMC,QACjBC,OAAQ,EAAKF,MAAMG,WAGM,KAAvB,EAAKH,MAAMC,QACbG,MAAM,iBAC4B,KAAzB,EAAKJ,MAAMG,UACpBC,MAAM,mBACG,EAAKJ,MAAMK,QAAQC,MAAK,SAAAC,GAAC,OAAIA,EAAER,OAAS,EAAKC,MAAMC,WAC5DG,MAAM,2BAGRI,IACGC,KAAK,wDAAyDX,GAC9DY,MAAK,SAAAC,GACJ,EAAKC,SAAS,CACZP,QAAS,EAAKL,MAAMK,QAAQQ,OAAOF,EAASG,MAC5Cb,QAAS,GACTE,UAAW,SAhCL,EAgDdY,iBAAmB,SAACnB,GAClB,EAAKgB,SAAS,CAAEX,QAASL,EAAMoB,OAAOC,SAjD1B,EAoDdC,mBAAqB,SAACtB,GACpB,EAAKgB,SAAS,CAAET,UAAWP,EAAMoB,OAAOC,SArD5B,EAwDdE,UAAY,SAACC,GACXC,QAAQC,IAAI,iBAEZ,IAAMC,EAAS,EAAKvB,MAAMK,QAAQmB,MAAK,SAAAjB,GAAC,OAAIA,EAAEa,KAAOA,KACjDK,OAAOC,QAAQ,gBAAkBH,EAAOxB,OAE1CS,IACCmB,OADD,gEACiEP,IAChEV,KACCW,QAAQC,IAAI,gBACZ,EAAKV,SAAS,CAAEP,QAAS,EAAKL,MAAMK,QAAQuB,QAAO,SAAArB,GAAC,OAAIA,IAAMgB,SAhElE,EAAKvB,MAAQ,CACXK,QAAS,GACTJ,QAAS,GACTE,UAAW,IAEbkB,QAAQC,IAAI,eAPA,E,gEAsCO,IAAD,OAClBD,QAAQC,IAAI,aACZd,IACGqB,IAAI,yDACJnB,MAAK,SAAAC,GACJU,QAAQC,IAAI,qBACZ,EAAKV,SAAS,CAAEP,QAASM,EAASG,Y,+BA+BtC,OAFAO,QAAQC,IAAI,UAGV,6BACE,+CACA,kBAAC,EAAD,CAAM3B,QAASmC,KAAKnC,QAASM,QAAS6B,KAAK9B,MAAMC,QACjDc,iBAAkBe,KAAKf,iBAAkBZ,UAAW2B,KAAK9B,MAAMG,UAAWe,mBAAoBY,KAAKZ,qBACnG,uCACA,kBAAC,EAAD,CAAOb,QAASyB,KAAK9B,MAAMK,QAASc,UAAWW,KAAKX,iB,GAlF1CY,IAAMC,YAyFlBC,EAAQ,SAACC,GACb,OACE,+BACQ,+BACA,4BACE,4BAAKA,EAAM7B,QAAQ8B,KAAI,SAAAZ,GAAM,OAAI,uBAAGa,IAAKb,EAAOxB,MAAOwB,EAAOxB,UAC9D,4BAAKmC,EAAM7B,QAAQ8B,KAAI,SAAAZ,GAAM,OAAI,uBAAGa,IAAKb,EAAOxB,MAAOwB,EAAOrB,YAC9D,4BAAKgC,EAAM7B,QAAQ8B,KAAI,SAAAZ,GAAM,OAAI,uBAAGa,IAAKb,EAAOxB,MAAM,4BAAQsC,QAAS,kBAAMH,EAAMf,UAAUI,EAAOH,MAA9C,mBAQ9DkB,EAAO,SAACJ,GACZ,OACE,0BAAMK,SAAUL,EAAMvC,SACpB,qCAEA,2BACEsB,MAAOiB,EAAMjC,QACbuC,SAAUN,EAAMnB,oBAGlB,uCAEA,2BACEE,MAAOiB,EAAM/B,UACbqC,SAAUN,EAAMhB,sBAGlB,6BACE,4BAAQuB,KAAK,UAAb,kBAOO/C,ICvIbgD,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.dd7fd6ae.chunk.js","sourcesContent":["import React from 'react';\nimport Axios from 'axios';\nimport './App.css';\n\n/* Tämä pitäisi olla, jos olisi erillinen Person-moduuli\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = Axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n*/\n\n//exec 3.8\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: ''\n    }\n    console.log('constructor')\n  }\n\n  addName = (event) => {\n    event.preventDefault()\n    \n    const nameObject = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }  \n\n    if (this.state.newName === \"\") {\n      alert('Nimi puuttuu!')\n    } else if (this.state.newNumber === \"\") {\n      alert('Numero puuttuu!')\n    } else if (this.state.persons.some(n => n.name === this.state.newName)) {\n      alert('Nimi on jo luettelossa!')  \n    } else {\n    \n    Axios\n      .post('https://salty-chamber-97439.herokuapp.com/api/persons', nameObject)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''          \n        })\n      })   \n    }   \n  }\n\n  componentDidMount() {\n    console.log('did mount')\n    Axios\n      .get('https://salty-chamber-97439.herokuapp.com/api/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        this.setState({ persons: response.data })\n      })\n  } \n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n  }\n\n  popWindow = (id) => {\n    console.log('popped Window')\n  \n    const person = this.state.persons.find(n => n.id === id)\n    if (window.confirm(\"Poistetaanko \" + person.name)) {\n       \n      Axios\n      .delete(`https://salty-chamber-97439.herokuapp.com/api/persons/${id}`)\n      .then(\n        console.log('removed name'),\n        this.setState({ persons: this.state.persons.filter(n => n !== person) })  \n        )\n    } \n  }\n\n\n  render() {\n    console.log('render')\n\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Form addName={this.addName} newName={this.state.newName} \n        handleNameChange={this.handleNameChange} newNumber={this.state.newNumber} handleNumberChange={this.handleNumberChange} />\n        <h2>Numerot</h2>\n        <Table persons={this.state.persons} popWindow={this.popWindow} />\n      </div>\n    );\n  \n  }\n}\n\nconst Table = (props) => {\n  return (\n    <table>\n            <thead>\n            <tr>\n              <td>{props.persons.map(person => <p key={person.name}>{person.name}</p>)}</td>\n              <td>{props.persons.map(person => <p key={person.name}>{person.number}</p>)}</td>\n              <td>{props.persons.map(person => <p key={person.name}><button onClick={() => props.popWindow(person.id)}>poista</button></p>)}</td>\n            </tr>\n            </thead>\n          </table>\n  )\n\n}\n\nconst Form = (props) => {\n  return (\n    <form onSubmit={props.addName}>\n      <div>\n        nimi: \n      <input \n        value={props.newName} \n        onChange={props.handleNameChange}\n        />\n      </div>\n      <div>\n        numero:\n      <input\n        value={props.newNumber}\n        onChange={props.handleNumberChange}\n      />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\n\n  \n  ReactDOM.render(\n      <App />,\n    document.getElementById('root')\n  );\n  \n\n"],"sourceRoot":""}