(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n.n(o),u=n(13),s=n(14),m=n(16),c=n(15),i=n(2),p=n.n(i),d=(n(39),function(e){Object(m.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).addName=function(t){t.preventDefault();var n={name:e.state.newName,number:e.state.newNumber};""===e.state.newName?alert("Nimi puuttuu!"):""===e.state.newNumber?alert("Numero puuttuu!"):e.state.persons.some((function(t){return t.name===e.state.newName}))?alert("Nimi on jo luettelossa!"):p.a.post("https://salty-chamber-97439.herokuapp.com/api/persons",n).then((function(t){e.setState({persons:e.state.persons.concat(t.data),newName:"",newNumber:""})}))},e.handleNameChange=function(t){e.setState({newName:t.target.value})},e.handleNumberChange=function(t){e.setState({newNumber:t.target.value})},e.popWindow=function(t){console.log("popped Window");var n=e.state.persons.find((function(e){return e.id===t}));window.confirm("Poistetaanko "+n.name)&&p.a.delete("https://salty-chamber-97439.herokuapp.com/api/persons/".concat(t)).then(console.log("removed name"),e.setState({persons:e.state.persons.filter((function(e){return e!==n}))}))},e.state={persons:[],newName:"",newNumber:""},console.log("constructor"),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("did mount"),p.a.get("https://salty-chamber-97439.herokuapp.com/api/persons").then((function(t){console.log("promise fulfilled"),e.setState({persons:t.data})}))}},{key:"render",value:function(){return console.log("render"),r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(N,{addName:this.addName,newName:this.state.newName,handleNameChange:this.handleNameChange,newNumber:this.state.newNumber,handleNumberChange:this.handleNumberChange}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(h,{persons:this.state.persons,popWindow:this.popWindow}))}}]),n}(r.a.Component)),h=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,e.persons.map((function(e){return r.a.createElement("p",{key:e.name},e.name)}))),r.a.createElement("td",null,e.persons.map((function(e){return r.a.createElement("p",{key:e.name},e.number)}))),r.a.createElement("td",null,e.persons.map((function(t){return r.a.createElement("p",{key:t.name},r.a.createElement("button",{onClick:function(){return e.popWindow(t.id)}},"poista"))}))))))},N=function(e){return r.a.createElement("form",{onSubmit:e.addName},r.a.createElement("div",null,"nimi:",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},f=d;l.a.render(r.a.createElement(f,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.dd7fd6ae.chunk.js.map